<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ðŸ’– Heart Particle Animation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: radial-gradient(circle at top, #050505, #000000);
    overflow: hidden;
  }

  canvas {
    display: block;
  }
</style>
</head>

<body>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const cx = canvas.width / 2;
const cy = canvas.height / 2 - 80;

/* ðŸŒ¸ Heart formula */
function heart(t) {
  return {
    x: 16 * Math.pow(Math.sin(t), 3),
    y: -(13 * Math.cos(t)
       - 5 * Math.cos(2 * t)
       - 2 * Math.cos(3 * t)
       - Math.cos(4 * t))
  };
}

/* ðŸ’– Heart particles */
let particles = [];
const TOTAL = 2200;

for (let i = 0; i < TOTAL; i++) {
  const t = Math.random() * Math.PI * 2;
  const h = heart(t);

  particles.push({
    angle: t,
    x: h.x,
    y: h.y,
    z: Math.random() * 30,
    size: Math.random() * 1.8 + 0.5,
    speed: Math.random() * 0.02 + 0.01
  });
}

/* ðŸ’« Rotating text */
const text = "ChÃºc má»«ng sinh nháº­t  â€¢  LuÃ´n háº¡nh phÃºc  â€¢  BÃ¬nh an  â€¢  ÄÆ°á»£c yÃªu thÆ°Æ¡ng  â€¢  ";
let textAngle = 0;

/* ðŸŽ¬ Animation */
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  /* â­ Background stars */
  for (let i = 0; i < 60; i++) {
    ctx.fillStyle = "rgba(255,255,255,0.15)";
    ctx.fillRect(
      Math.random() * canvas.width,
      Math.random() * canvas.height,
      1,
      1
    );
  }

  /* ðŸ’– Heart */
  particles.forEach(p => {
    p.angle += p.speed;
    const h = heart(p.angle);

    const scale = 10;
    const x = cx + h.x * scale + Math.sin(Date.now() * 0.002 + p.z) * 2;
    const y = cy + h.y * scale + Math.cos(Date.now() * 0.002 + p.z) * 2;

    ctx.beginPath();
    ctx.arc(x, y, p.size, 0, Math.PI * 2);
    ctx.fillStyle = "rgba(255,120,160,0.85)";
    ctx.fill();
  });

  /* ðŸ”„ Circular rotating text */
  const radius = 140;
  textAngle += 0.002;

  ctx.save();
  ctx.translate(cx, cy + 160);
  ctx.rotate(textAngle);

  for (let i = 0; i < text.length; i++) {
    const angle = (i / text.length) * Math.PI * 2;
    ctx.save();
    ctx.rotate(angle);
    ctx.translate(0, -radius);
    ctx.fillStyle = "rgba(255,255,255,0.85)";
    ctx.font = "16px Segoe UI";
    ctx.fillText(text[i], 0, 0);
    ctx.restore();
  }

  ctx.restore();

  requestAnimationFrame(animate);
}

animate();

/* ðŸ“± Resize */
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
